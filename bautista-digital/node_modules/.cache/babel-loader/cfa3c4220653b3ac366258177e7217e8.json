{"ast":null,"code":"var _jsxFileName = \"/home/misaeldev/projects/bautista-digital/bautista-digital/src/components/Noticias/Noticias.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Card from \"../ui/Card\";\nimport Skeleton from \"../ui/Skeleton\";\nimport { formatFriendlyDate } from \"../../utils/formatDate\";\nconst Noticias = () => {\n  const [noticias, setNoticias] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalNoticias, setTotalNoticias] = useState(0);\n  const itemsPerPage = 10;\n  useEffect(() => {\n    const fetchNoticias = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8000/api/noticias/?page=${currentPage}`);\n        setNoticias(response.data.results);\n        setTotalNoticias(response.data.count);\n        setLoading(false);\n      } catch (error) {\n        setError(\"Error al cargar las noticias.\");\n        setLoading(false);\n      }\n    };\n    fetchNoticias();\n  }, [currentPage]);\n  const handlePageChange = page => {\n    setCurrentPage(page);\n  };\n  const totalPages = Math.ceil(totalNoticias / itemsPerPage);\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mx-auto p-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, \"Noticias\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-red-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, error));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mx-auto p-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-3xl font-bold mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Noticias\"), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, Array(itemsPerPage).fill(0).map((_, index) => /*#__PURE__*/React.createElement(Skeleton, {\n    key: index,\n    className: \"h-40 w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, noticias.map(noticia => /*#__PURE__*/React.createElement(\"div\", {\n    key: noticia.id,\n    className: \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"shadow-lg rounded-lg overflow-hidden h-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, noticia.imagen && /*#__PURE__*/React.createElement(\"img\", {\n    src: `http://localhost:8000${noticia.imagen}`,\n    alt: noticia.titulo,\n    className: \"w-full h-48 object-cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-4 flex flex-col h-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-xl font-semibold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, noticia.titulo), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-600 mb-4 flex-grow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, noticia.descripcion), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm text-gray-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }\n  }, \"Autor: \", noticia.autor), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 23\n    }\n  }, formatFriendlyDate(noticia.fecha_publicacion)))))))), totalPages > 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, Array.from({\n    length: totalPages\n  }, (_, index) => /*#__PURE__*/React.createElement(\"button\", {\n    key: index,\n    onClick: () => handlePageChange(index + 1),\n    className: `mx-1 px-3 py-1 rounded ${currentPage === index + 1 ? \"bg-blue-500 text-white\" : \"bg-gray-200\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, index + 1)))));\n};\nexport default Noticias;","map":{"version":3,"names":["React","useEffect","useState","axios","Card","Skeleton","formatFriendlyDate","Noticias","noticias","setNoticias","loading","setLoading","error","setError","currentPage","setCurrentPage","totalNoticias","setTotalNoticias","itemsPerPage","fetchNoticias","response","get","data","results","count","handlePageChange","page","totalPages","Math","ceil","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Array","fill","map","_","index","key","Fragment","noticia","id","imagen","src","alt","titulo","descripcion","autor","fecha_publicacion","from","length","onClick"],"sources":["/home/misaeldev/projects/bautista-digital/bautista-digital/src/components/Noticias/Noticias.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Card from \"../ui/Card\";\nimport Skeleton from \"../ui/Skeleton\";\nimport { formatFriendlyDate } from \"../../utils/formatDate\";\n\nconst Noticias = () => {\n  const [noticias, setNoticias] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalNoticias, setTotalNoticias] = useState(0);\n  const itemsPerPage = 10;\n\n  useEffect(() => {\n    const fetchNoticias = async () => {\n      try {\n        const response = await axios.get(\n          `http://localhost:8000/api/noticias/?page=${currentPage}`\n        );\n        setNoticias(response.data.results);\n        setTotalNoticias(response.data.count);\n        setLoading(false);\n      } catch (error) {\n        setError(\"Error al cargar las noticias.\");\n        setLoading(false);\n      }\n    };\n    fetchNoticias();\n  }, [currentPage]);\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const totalPages = Math.ceil(totalNoticias / itemsPerPage);\n\n  if (error) {\n    return (\n      <div className=\"container mx-auto p-6\">\n        <h1 className=\"text-3xl font-bold mb-6\">Noticias</h1>\n        <p className=\"text-red-500\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-3xl font-bold mb-6\">Noticias</h2>\n\n      {loading ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {Array(itemsPerPage).fill(0).map((_, index) => (\n            <Skeleton key={index} className=\"h-40 w-full\" />\n          ))}\n        </div>\n      ) : (\n        <>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n            {noticias.map((noticia) => (\n              <div key={noticia.id} className=\"w-full\">\n                <Card className=\"shadow-lg rounded-lg overflow-hidden h-full\">\n                  {noticia.imagen && (\n                    <img\n                      src={`http://localhost:8000${noticia.imagen}`}\n                      alt={noticia.titulo}\n                      className=\"w-full h-48 object-cover\"\n                    />\n                  )}\n                  <div className=\"p-4 flex flex-col h-full\">\n                    <h3 className=\"text-xl font-semibold mb-2\">{noticia.titulo}</h3>\n                    <p className=\"text-gray-600 mb-4 flex-grow\">{noticia.descripcion}</p>\n                    <div className=\"mt-auto\">\n                      <p className=\"text-sm text-gray-500\">Autor: {noticia.autor}</p>\n                      <small>{formatFriendlyDate(noticia.fecha_publicacion)}</small>\n                    </div>\n                  </div>\n                </Card>\n              </div>\n            ))}\n          </div>\n\n          {totalPages > 1 && (\n            <div className=\"flex justify-center mt-6\">\n              {Array.from({ length: totalPages }, (_, index) => (\n                <button\n                  key={index}\n                  onClick={() => handlePageChange(index + 1)}\n                  className={`mx-1 px-3 py-1 rounded ${\n                    currentPage === index + 1 ? \"bg-blue-500 text-white\" : \"bg-gray-200\"\n                  }`}\n                >\n                  {index + 1}\n                </button>\n              ))}\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Noticias;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}