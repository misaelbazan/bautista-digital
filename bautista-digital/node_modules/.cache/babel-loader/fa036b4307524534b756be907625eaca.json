{"ast":null,"code":"var _jsxFileName = \"/home/misaeldev/projects/bautista-digital/bautista-digital/src/components/Noticias/Noticias.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { formatFriendlyDate } from \"../../utils/formatDate\";\nimport Skeleton from \"../ui/Skeleton\";\nconst Noticias = () => {\n  const [noticias, setNoticias] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalNoticias, setTotalNoticias] = useState(0);\n  const itemsPerPage = 10;\n  useEffect(() => {\n    const fetchNoticias = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8000/api/noticias/?page=${currentPage}`);\n        setNoticias(response.data.results);\n        setTotalNoticias(response.data.count);\n        setLoading(false);\n      } catch (error) {\n        setError(\"Error al cargar las noticias.\");\n        setLoading(false);\n      }\n    };\n    fetchNoticias();\n  }, [currentPage]);\n  const handlePageChange = page => {\n    setCurrentPage(page);\n  };\n  const totalPages = Math.ceil(totalNoticias / itemsPerPage);\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container py-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, \"Noticias\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, error));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Noticias\"), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, Array(itemsPerPage).fill(0).map((_, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"col-md-6 col-lg-4 col-xl-3 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Skeleton, {\n    className: \"h-40 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  })))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, noticias.map(noticia => /*#__PURE__*/React.createElement(\"div\", {\n    key: noticia.id,\n    className: \"col-md-6 col-lg-4 col-xl-3 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card shadow-sm h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, noticia.imagen && /*#__PURE__*/React.createElement(\"img\", {\n    src: `http://localhost:8000${noticia.imagen}`,\n    alt: noticia.titulo,\n    className: \"card-img-top\",\n    style: {\n      height: \"200px\",\n      objectFit: \"cover\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, noticia.titulo), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text text-muted flex-grow-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, noticia.descripcion), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"small text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 23\n    }\n  }, \"Autor: \", noticia.autor), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 23\n    }\n  }, formatFriendlyDate(noticia.fecha_publicacion)))))))), totalPages > 1 && /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, Array.from({\n    length: totalPages\n  }, (_, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    className: `page-item ${currentPage === index + 1 ? \"active\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handlePageChange(index + 1),\n    className: \"page-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, index + 1)))))));\n};\nexport default Noticias;","map":{"version":3,"names":["React","useEffect","useState","axios","formatFriendlyDate","Skeleton","Noticias","noticias","setNoticias","loading","setLoading","error","setError","currentPage","setCurrentPage","totalNoticias","setTotalNoticias","itemsPerPage","fetchNoticias","response","get","data","results","count","handlePageChange","page","totalPages","Math","ceil","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Array","fill","map","_","index","key","Fragment","noticia","id","imagen","src","alt","titulo","style","height","objectFit","descripcion","autor","fecha_publicacion","from","length","onClick"],"sources":["/home/misaeldev/projects/bautista-digital/bautista-digital/src/components/Noticias/Noticias.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { formatFriendlyDate } from \"../../utils/formatDate\";\nimport Skeleton from \"../ui/Skeleton\";\n\nconst Noticias = () => {\n  const [noticias, setNoticias] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalNoticias, setTotalNoticias] = useState(0);\n  const itemsPerPage = 10;\n\n  useEffect(() => {\n    const fetchNoticias = async () => {\n      try {\n        const response = await axios.get(\n          `http://localhost:8000/api/noticias/?page=${currentPage}`\n        );\n        setNoticias(response.data.results);\n        setTotalNoticias(response.data.count);\n        setLoading(false);\n      } catch (error) {\n        setError(\"Error al cargar las noticias.\");\n        setLoading(false);\n      }\n    };\n    fetchNoticias();\n  }, [currentPage]);\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const totalPages = Math.ceil(totalNoticias / itemsPerPage);\n\n  if (error) {\n    return (\n      <div className=\"container py-5\">\n        <h1 className=\"text-danger\">Noticias</h1>\n        <p className=\"text-danger\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container py-5\">\n      <h2 className=\"mb-4\">Noticias</h2>\n\n      {loading ? (\n        <div className=\"row\">\n          {Array(itemsPerPage).fill(0).map((_, index) => (\n            <div key={index} className=\"col-md-6 col-lg-4 col-xl-3 mb-4\">\n              <Skeleton className=\"h-40 w-100\" />\n            </div>\n          ))}\n        </div>\n      ) : (\n        <>\n          <div className=\"row\">\n            {noticias.map((noticia) => (\n              <div key={noticia.id} className=\"col-md-6 col-lg-4 col-xl-3 mb-4\">\n                <div className=\"card shadow-sm h-100\">\n                  {noticia.imagen && (\n                    <img\n                      src={`http://localhost:8000${noticia.imagen}`}\n                      alt={noticia.titulo}\n                      className=\"card-img-top\"\n                      style={{ height: \"200px\", objectFit: \"cover\" }}\n                    />\n                  )}\n                  <div className=\"card-body d-flex flex-column\">\n                    <h5 className=\"card-title\">{noticia.titulo}</h5>\n                    <p className=\"card-text text-muted flex-grow-1\">{noticia.descripcion}</p>\n                    <div className=\"mt-auto\">\n                      <p className=\"small text-secondary\">Autor: {noticia.autor}</p>\n                      <small className=\"text-muted\">{formatFriendlyDate(noticia.fecha_publicacion)}</small>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {totalPages > 1 && (\n            <nav className=\"mt-4\">\n              <ul className=\"pagination justify-content-center\">\n                {Array.from({ length: totalPages }, (_, index) => (\n                  <li key={index} className={`page-item ${currentPage === index + 1 ? \"active\" : \"\"}`}>\n                    <button\n                      onClick={() => handlePageChange(index + 1)}\n                      className=\"page-link\"\n                    >\n                      {index + 1}\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            </nav>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Noticias;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}